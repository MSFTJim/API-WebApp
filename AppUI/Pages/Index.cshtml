@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>


@section scripts
{
<script type="text/javascript">
    $(function ()
    {
        var loadCars = function () 
        {
            $('#car-list').empty();
            $.get('/AppAPI/WeatherForecast').done(function (cars)          
            { 
            // $.get('/api/car').done(function (cars) {
                $.each(cars, function (i, car) 
                {
                    var item = `<li>
                            <span class="entry">
                                <strong>${car.make} ${car.model}</strong>
                                (£${car.price})
                                </span>
                                <span class ="details" data-id="${car.id}">Details</span> |
                                <span class ="edit"  data-id="${car.id}">Edit</span> |
                                <span class ="delete"  data-id="${car.id}">Delete</span>
                            </li>`;
                    $('#car-list').append(item);
                });
            });
        }
    }
    </script>
}
